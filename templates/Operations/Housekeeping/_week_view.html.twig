<div class="table-responsive">
    <table class="table table-sm table-bordered align-middle">
        <thead>
        <tr>
            <th>{{ 'housekeeping.room'|trans({}, 'Housekeeping') }}</th>
            {% for day in weekView.days %}
            <th class="text-center">
                    <div class="small text-muted">{{ getLocalizedDate(day, 'EEE', app.request.locale) }}</div>
                    <div>{{ day|date('d.m.') }}</div>
                </th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for row in weekView.rows %}
            <tr>
                <td>
                    <div class="fw-semibold">{{ row.apartment.number }}</div>
                    <div class="small text-muted">{{ row.apartment.description }}</div>
                </td>
                {% for day in weekView.days %}
                    {% set dateKey = day|date('Y-m-d') %}
                    {% set cell = row.days[dateKey] %}
                    <td class="small">
                        <div class="fw-semibold">
                            {{ occupancyLabels[cell.occupancyType]|trans({}, 'Housekeeping') }}
                        </div>
                        <div class="text-muted">
                            {{ statusLabels[cell.status ? cell.status.hkStatus.value : 'OPEN']|trans({}, 'Housekeeping') }}
                        </div>
                        {% if cell.guestCount is not null %}
                            {% set guestKey = cell.guestCount == 1 ? 'housekeeping.guest.short' : 'housekeeping.guests.short' %}
                            <div>{{ cell.guestCount }} {{ guestKey|trans({}, 'Housekeeping') }}</div>
                        {% endif %}
                    </td>
                {% endfor %}
            </tr>
        {% else %}
            <tr>
                <td colspan="{{ 1 + weekView.days|length }}" class="text-center text-muted py-4">
                    {{ 'housekeeping.no_rooms'|trans({}, 'Housekeeping') }}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
