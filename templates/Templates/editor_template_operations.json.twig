[
  {"title": "{{ 'templates.editor.operations.header_footer'|trans }}", "description": "{{ 'templates.editor.operations.header_footer.desc'|trans }}", "content": "<div><htmlpageheader name=\"MyHeader1\"><div style=\"text-align: center; color: #666; font-size: 11px;\">[% set period = filters.start|date('d.m.Y') %][% if filters.start != filters.end %][% set period = period ~ ' - ' ~ (filters.end|date('d.m.Y')) %][% endif %][[ period ]][% for type in filters.occupancyTypes %] | [[ occupancyLabels[type]|trans({}, 'Housekeeping') ]][% endfor %][% if filters.subsidiary %] | [[ filters.subsidiary.name ]][% else %] | alle Niederlassungen[% endif %] | Erzeugt [[ 'now'|date('d.m.Y H:i') ]]</div></htmlpageheader><htmlpagefooter name=\"MyFooter1\"><div style=\"text-align: right; font-size: 10px; color: #666; font-size: 11px;\">Seite {PAGENO} von {nbpg}</div></htmlpagefooter><sethtmlpageheader name=\"MyHeader1\" value=\"on\" show-this-page=\"1\"></sethtmlpageheader><sethtmlpagefooter name=\"MyFooter1\" value=\"on\" page=\"ALL\"></sethtmlpagefooter></div>"},
  {"title": "{{ 'templates.editor.operations.reservations_table'|trans }}", "description": "{{ 'templates.editor.operations.reservations_table.desc'|trans }}", "content": "<h3>Alle Reservierungen im Zeitraum</h3><table><tr><th>Zimmer</th><th>Gast</th><th>Personen</th><th>Zeitraum</th></tr><!-- [% for reservation in reservations %] --><!-- [% set guestNames = [] %] --><!-- [% for customer in reservation.customers %] --><!-- [% set name = (customer.lastname ~ ' ' ~ customer.firstname)|trim %] --><!-- [% if name != '' %] --><!-- [% set guestNames = guestNames|merge([name]) %] --><!-- [% endif %] --><!-- [% endfor %] --><!-- [% if guestNames is empty and reservation.booker %] --><!-- [% set name = (reservation.booker.lastname ~ ' ' ~ reservation.booker.firstname)|trim %] --><!-- [% if name != '' %] --><!-- [% set guestNames = [name] %] --><!-- [% endif %] --><!-- [% endif %] --><tr><td>[[ reservation.appartment ? reservation.appartment.number : '-' ]]</td><td>[[ guestNames is empty ? '-' : guestNames|join(', ') ]]</td><td>[[ reservation.persons ?? '-' ]]</td><td>[[ reservation.startDate|date('d.m.Y') ]] - [[ reservation.endDate|date('d.m.Y') ]]</td></tr><!-- [% endfor %] --></table>"},
  {"title": "{{ 'templates.editor.operations.housekeeping_day'|trans }}", "description": "{{ 'templates.editor.operations.housekeeping_day.desc'|trans }}", "content": "<h3>Tagesbelegung</h3><!-- [% set dayKey = filters.start|date('Y-m-d') %] --><!-- [% set dayView = dayViews[dayKey] ?? null %] --><!-- [% set rows = dayView ? dayView.rows : [] %] --><table><tr><th>[[ 'housekeeping.date'|trans({}, 'Housekeeping') ]]</th><th>[[ 'housekeeping.room'|trans({}, 'Housekeeping') ]]</th><th>[[ 'housekeeping.occupancy'|trans({}, 'Housekeeping') ]]</th><th>[[ 'housekeeping.guests'|trans({}, 'Housekeeping') ]]</th><th>[[ 'housekeeping.reservation'|trans({}, 'Housekeeping') ]]</th><th>[[ 'housekeeping.status'|trans({}, 'Housekeeping') ]]</th><th>[[ 'housekeeping.assigned_to'|trans({}, 'Housekeeping') ]]</th><th>[[ 'housekeeping.note'|trans({}, 'Housekeeping') ]]</th></tr><!-- [% for row in rows %] --><!-- [% set status = row.status %] --><!-- [% set occupancyLabel = occupancyLabels[row.occupancyType] ?? row.occupancyType %] --><!-- [% set statusValue = status ? status.hkStatus.value : '' %] --><!-- [% set statusKey = statusValue ? (statusLabels[statusValue] ?? statusValue) : '' %] --><tr><td>[[ dayView ? dayView.date|date('Y-m-d') : filters.start|date('Y-m-d') ]]</td><td>[[ row.apartment.number ]] [[ row.apartment.description ]]</td><td>[[ occupancyLabel|trans({}, 'Housekeeping') ]]</td><td>[[ row.guestCount ?? '' ]]</td><td>[[ row.reservationSummary ?? '' ]]</td><td>[[ statusKey ? (statusKey|trans({}, 'Housekeeping')) : '' ]]</td><td>[[ status and status.assignedTo ? (status.assignedTo.firstname ~ ' ' ~ status.assignedTo.lastname) : '' ]]</td><td>[[ status ? (status.note ?? '') : '' ]]</td></tr><!-- [% endfor %] --></table>"},
  {"title": "{{ 'templates.editor.operations.housekeeping_week'|trans }}", "description": "{{ 'templates.editor.operations.housekeeping_week.desc'|trans }}", "content": "<h3>Wochenbelegung</h3><!-- [% set visibleApartmentIds = [] %] --><!-- [% for dayView in dayViews %] --><!-- [% for row in dayView.rows %] --><!-- [% set apartmentId = row.apartment.id %] --><!-- [% if apartmentId not in visibleApartmentIds %] --><!-- [% set visibleApartmentIds = visibleApartmentIds|merge([apartmentId]) %] --><!-- [% endif %] --><!-- [% endfor %] --><!-- [% endfor %] --><table><tr><th>[[ 'housekeeping.room'|trans({}, 'Housekeeping') ]]</th><!-- [% for day in rangeView.days %] --><th>[[ day|date('d.m') ]]</th><!-- [% endfor %] --></tr><!-- [% for apartment in rangeView.apartments %] --><!-- [% if apartment.id in visibleApartmentIds %] --><tr><td>[[ apartment.number ]] [[ apartment.description ]]</td><!-- [% for day in rangeView.days %] --><!-- [% set dayKey = day|date('Y-m-d') %] --><!-- [% set dayView = dayViews[dayKey] ?? null %] --><!-- [% set cellRow = null %] --><!-- [% if dayView %] --><!-- [% for row in dayView.rows %] --><!-- [% if cellRow is null and row.apartment.id == apartment.id %] --><!-- [% set cellRow = row %] --><!-- [% endif %] --><!-- [% endfor %] --><!-- [% endif %] --><!-- [% if cellRow %] --><!-- [% set occupancyLabel = occupancyLabels[cellRow.occupancyType] ?? cellRow.occupancyType %] --><!-- [% set statusValue = cellRow.status ? cellRow.status.hkStatus.value : '' %] --><!-- [% set statusKey = statusValue ? (statusLabels[statusValue] ?? statusValue) : '' %] --><td>[[ occupancyLabel|trans({}, 'Housekeeping') ]][% if statusKey %] / [[ statusKey|trans({}, 'Housekeeping') ]][% endif %][% if cellRow.guestCount is not null %] / [[ cellRow.guestCount ]][% endif %]</td><!-- [% else %] --><td></td><!-- [% endif %] --><!-- [% endfor %] --></tr><!-- [% endif %] --><!-- [% endfor %] --></table>"},
  {% include 'Templates/editor_template_base.twig' %}
]
